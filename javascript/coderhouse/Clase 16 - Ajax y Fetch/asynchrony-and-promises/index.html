<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="./assets/images/favicon.svg" type="image//svg+xml">
    <title>TODO List Manager</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
</head>

<body>
    <div class="container pt-4">
        <header class="mb-3">
            <h1>Ejemplos de Asincronía y Procesos</h1>
        </header>

        <main id="main-content" class="p-2">

            <!-- Ejemplo 1 -->
            <div id="example-1" name="example-1">
                <div
                    class="p-2 bg-secondary bg-opacity-50 border border-3 border-dark border-start border-end-0  border-bottom-0 border-top-0 fw-semibold fw-light">
                    <strong>Notificación:</strong> una aplicación web muestra una notificación emergente para informar
                    al usuario sobre una actualización reciente.
                </div>

                <div id="notification" class="mt-2 alert alert-warning visually-hidden" role="alert">
                    Esto es una notificación que durará 3 segundos en pantalla.
                </div>

                <div class="d-flex justify-content-end mt-2">
                    <button id="btn-example-1" type="button" class="btn btn-success">Ejecutar</button>
                </div>

                <div class="mt-2">
                    <p><em>Aplicación de <code>setTimeout()</code> para controlar el tiempo que permanece visible un
                            nodo del DOM.</em></p>
                </div>
            </div>

            <hr>

            <!-- Ejemplo 2 -->
            <div id="example-2" name="example-2">
                <div
                    class="p-2 bg-secondary bg-opacity-50 border border-3 border-dark border-start border-end-0  border-bottom-0 border-top-0 fw-semibold fw-light">
                    <strong>Inactividad:</strong> un sistema bancario cierra sesión automáticamente si el usuario está
                    inactivo durante un tiempo prolongado dentro de sus aplicaciones web.
                </div>

                <div id="session" class="d-flex justify-content-center mt-2 visually-hidden">
                    <span class="badge text-bg-danger">Sesión cerrada</span>
                </div>

                <div class="mt-2">
                    <p><em>Para ver en ejecución este ejemplo debes permanecer sin interacción con el sitio durante 10
                            segundos.</em></p>
                </div>

                <div class="d-flex justify-content-end mt-2">
                    <button id="btn-example-2" type="button" class="btn btn-success">Reiniciarlo</button>
                </div>

                <div class="mt-2">
                    <p><em>Aplicación de <code>setTimeout()</code> y de <code>clearTimeout()</code> para evaluar si un
                            usuario está o no interactuando con el sitio. Cada vez que este mueve el mouse o hace un
                            clic se reinicia el contador con <code>clearTimeout()</code> y se vuelve a iniciar con
                            <code>setTimeout()</code>.</em></p>
                </div>
            </div>

            <hr>

            <!-- Ejemplo 3 -->
            <div id="example-3" name="example-3">
                <div
                    class="p-2 bg-secondary bg-opacity-50 border border-3 border-dark border-start border-end-0  border-bottom-0 border-top-0 fw-semibold fw-light">
                    <strong>Cargando:</strong> una tienda en línea muestra un spinner de carga mientras los datos de la
                    lista de productos son recuperados por el backend. De esta forma le damos retroalimentación al
                    usuario dándole a entender que el sistema está en funcionamiento y a la espera de resultados.
                </div>

                <div id="spinner" class="text-info mt-2 text-center border border-info rounded p-2 visually-hidden">
                    <p>Recuperando datos...</p>
                    <div class="spinner-grow" role="status">
                        <span></span>
                    </div>
                </div>

                <div id="datos-recuperados" class="border border-dark-subtle rounded mt-2 pt-2 text-center">
                    <p>Aquí mostraríamos los datos recuperados una vez finalice el proceso de búsqueda.</p>
                </div>

                <div class="d-flex justify-content-end mt-2">
                    <button id="btn-example-3" type="button" class="btn btn-success">Ejecutar</button>
                </div>

                <div class="mt-2">
                    <p><em>Aquí simularemos el tiempo de espera al recuperar la información mediante el uso de
                            <code>setTimeout()</code>. Al ejecutar el evento con el <code>button</code>, ocultamos el
                            contenedor de resultados y mostramos el contenedor del <code>spinner</code>, luego de unos
                            segundos, con la ejecución de <code>setTimeout()</code> finalizada, ocultamos el spinner,
                            mostramos el contenedor de datos y cargamos los datos recuperados en el contenedor.</em></p>
                </div>
            </div>

            <hr>

            <!-- Ejemplo 4 -->
            <div id="example-4" name="example-4">
                <div
                    class="p-2 bg-secondary bg-opacity-50 border border-3 border-dark border-start border-end-0  border-bottom-0 border-top-0 fw-semibold fw-light">
                    <strong>Cancelar compra:</strong> La tienda oficial de una marca reconocida en consolas de
                    videojuegos y aplicaciones para estos, implemento un mecanismo de espera para confirmar una compra.
                </div>

                <!-- Modal -->
                <div class="modal fade" id="modalConfirmarCompra" tabindex="-1" aria-labelledby="modalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1 class="modal-title fs-5" id="modalLabel">Confirmando la compra</h1>
                                <button id="closePurchase" type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div id="purchaseBody" class="modal-body">
                                <div id="purchaseProgress">
                                    <div class="mb-2">Te quedan <strong id="purchaseTime"></strong> segundos.</div>
                                    <div id="progressbarPurchase" class="progress" role="progressbar"
                                        aria-label="Example with label" aria-valuenow="0" aria-valuemin="0"
                                        aria-valuemax="100">
                                        <div class="progress-bar progress-bar-striped progress-bar-animated"
                                            style="width: 0%"></div>
                                    </div>
                                </div>

                                <div id="purchaseConfirm">
                                    <div class="alert alert-success" role="alert">
                                        Compra confirmada.
                                    </div>
                                </div>

                                <div id="purchaseCancel">
                                    <div class="alert alert-danger" role="alert">
                                        Compra cancelada!
                                    </div>
                                </div>
                            </div>
                            <div id="purchaseFooter" class="modal-footer d-flex justify-content-between">
                                <button id="cancelPurchase" type="button" class="btn btn-warning">Mejor no</button>
                                <button id="confirmPurchase" type="button" class="btn btn-success">Lo quiero ya</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-end mt-2">
                    <button id="btn-example-4" type="button" class="btn btn-success" data-bs-toggle="modal"
                        data-bs-target="#modalConfirmarCompra">Ejecutar</button>
                </div>

                <div class="mt-2">
                    <p><em>En este escenario, usamos <code>setInterval()</code> para correr una cuenta regresiva,
                            mientras esta cuenta avanza, el usuario tiene tiempo de cancelar la compra o de confirmarla.
                            Una vez que esta cuenta llegue a cero, si el usuario no interactuó con las opciones, la
                            compra es confirmada de forma definitiva.</em></p>
                </div>
            </div>

            <hr>

            <!-- Ejemplo 5 -->
            <div id="example-5" name="example-5">
                <div
                    class="p-2 bg-secondary bg-opacity-50 border border-3 border-dark border-start border-end-0  border-bottom-0 border-top-0 fw-semibold fw-light">
                    <strong>Reloj en tiempo real:</strong> una aplicación web muestra la hora actual y la actualiza cada
                    segundo para reflejar el tiempo real.
                </div>

                <div class="alert alert-light" role="alert">
                    <p>Hora del sistema: <strong id="realTime"></strong></p>
                </div>

                <div class="d-flex justify-content-end mt-2">
                    <button id="btn-example-5" type="button" class="btn btn-success">Ejecutar</button>
                </div>

                <div class="mt-2">
                    <p><em>Con la funcionalidad de <code>setTimeout()</code> conseguimos acceder a la hora actual del
                            sistema cada 1 segundo y reflejarlo en la interfaz de usuario.</em></p>
                </div>
            </div>

            <hr>

            <!-- Ejemplo 6 -->
            <div id="example-6" name="example-6">
                <div
                    class="p-2 bg-secondary bg-opacity-50 border border-3 border-dark border-start border-end-0  border-bottom-0 border-top-0 fw-semibold fw-light">
                    <strong>Comprobación de mensajes:</strong> una aplicación de mensajería conocida ofrece una versión
                    web de su aplicación, en esta se verifica periódicamente si hay nuevos mensajes en el servidor y los
                    muestra al usuario.
                </div>

                <div id="messages" class="mt-2">

                </div>

                <div class="d-flex justify-content-end mt-2">
                    <button id="btn-example-6" type="button" class="btn btn-success">Ejecutar</button>
                </div>

                <div class="mt-2">
                    <p><em>Simularemos la consulta a un servidor externo con <code>setTimeout()</code> cada un segundo
                            para verificar si hay mensajes nuevos, y si los hay, los mostraremos en la interfaz.</em>
                    </p>
                </div>
            </div>

            <hr>

            <!-- Ejemplo 7 -->
            <div id="example-7" name="example-7">
                <div
                    class="p-2 bg-secondary bg-opacity-50 border border-3 border-dark border-start border-end-0  border-bottom-0 border-top-0 fw-semibold fw-light">
                    <strong>Carousel:</strong> simularemos el carousel de Bootstrap con la visualización de 5 imágenes
                    diferentes que pasarán una a una cada segundo.
                </div>

                <div id="slides" class="mt-2">
                    <div class="slide alert alert-primary visually-hidden" role="alert">
                        Slide número 1 </div>
                    <div class="slide alert alert-secondary visually-hidden" role="alert">
                        Slide número 2
                    </div>
                    <div class="slide alert alert-success visually-hidden" role="alert">
                        Slide número 3 </div>
                    <div class="slide alert alert-danger visually-hidden" role="alert">
                        Slide número 4 </div>
                    <div class="slide alert alert-warning visually-hidden" role="alert">
                        Slide número 5 </div>
                    <div class="slide alert alert-info visually-hidden" role="alert">
                        Slide número 6 </div>
                    <div class="slide alert alert-light visually-hidden" role="alert">
                        Slide número 7 </div>
                    <div class="slide alert alert-dark visually-hidden" role="alert">
                        Slide número 8 </div>
                </div>

                <div class="d-flex justify-content-end mt-2">
                    <button id="btn-example-7" type="button" class="btn btn-success">Ejecutar</button>
                </div>

                <div class="mt-2">
                    <p><em>Vamos a crear un Carousel similar al que posee Bootstrap, y con <code>setTimeout()</code>
                            vamos a darle la funcionalidad de cambiar de imagen cada 3 segundos.</em></p>
                </div>
            </div>

            <hr>
            
            <!-- Ejemplo 8 -->
            <div id="example-8" name="example-8">
                <div
                    class="p-2 bg-secondary bg-opacity-50 border border-3 border-dark border-start border-end-0  border-bottom-0 border-top-0 fw-semibold fw-light">
                    <strong>Comprar entrada:</strong> en un estadio conocido se celebrará un show de bandas con un artista famoso, la empresa a cargo del evento promueve la compra de entradas online. Pero estas solo se pueden adquirir si permaneces un tiempo máximo dentro de la sala de compras.
                </div>

                <!-- Modal -->
                <div class="modal fade" id="modalComprarEntrada" tabindex="-1" aria-labelledby="modalComprarEntradaLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1 class="modal-title fs-5" id="modalComprarEntradaLabel">Comprar entrada</h1>
                                <button id="closeShowTicket" type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div id="showBody" class="modal-body">

                                <div id="showSi">
                                    <div class="alert alert-success" role="alert">
                                        Ticket para el show comprado.
                                    </div>
                                </div>

                                <div id="showNo">
                                    <div class="alert alert-danger" role="alert">
                                        Estás fuera de la sala!
                                    </div>
                                </div>
                            </div>
                            <div id="showFooter" class="modal-footer d-flex justify-content-end">
                                <button id="confirmShow" type="button" class="btn btn-success">Comprar ticket!</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-end mt-2">
                    <button id="btn-example-8" type="button" class="btn btn-success" data-bs-toggle="modal"
                        data-bs-target="#modalComprarEntrada">Ejecutar</button>
                </div>

                <div class="mt-2">
                    <p><em>Tomando como punto de partida la sugerencia de escenario del par de comisión Laureano, usaremos <code>setInterval()</code> para evaluar el tiempo de espera en una cola para la compra de un ticket online para un recital.</em></p>
                </div>
            </div>

        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script src="./scripts/main.js"></script>
</body>

</html>